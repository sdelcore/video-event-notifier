# video-event-notifier (VEN)
A microservice approach to creating a video event notification system

<h3 id="bkmrk-idea">Idea</h3>
<ul id="bkmrk-connects-to-a-castin">
<li>Connects to a movie that is currently playing on a device</li>
<li>Microservice approach</li>
<li>Host application contains a database with the movie name, time, and events</li>
<li>Video modules send the current movie and time to host</li>
<li>host notifies communication modules a list of movies playing, and events for each movie</li>
<li>Communication modules subscribes to host and a specific movie</li>
<li>Use pub/sub MQTT, with JSON payloads</li>
</ul>
<h3 id="bkmrk-how-to-get-rules">How To Get Rules</h3>
<ul id="bkmrk-database-of-movies-%28">
<li>Host contains a storage which contains movies, times, and events</li>
<li>For each movie, there is a list of times and events</li>
<li>Host subscribes to an update topic which will send the movie name, time, and events
<ul id="bkmrk-note%3A-may-not-need%2C-">
<li>NOTE: May not need, reconsider</li>
</ul>
</li>
<li>On start-up the host parses rules</li>
<li>By using time as the indicator for the events, the rules can be generated by any number of methods. So long as a CSV is generated</li>
</ul>
<h3 id="bkmrk-%23%23-server--has-a-mqt">Host Module</h3>
<ul id="bkmrk-has-a-mqtt-broker-ho">
<li>Subscribes to:
<ul id="bkmrk-a-topic-that-provide">
<li>a topic that provides currently playing movies, the current time, and if it is playing or paused.</li>
<li>a topic that provides new rules at runtime</li>
</ul>
</li>
<li>Publishes to:
<ul id="bkmrk-topic-which-provides">
<li>topic which provides a list of currently playing movies</li>
<li>a separate topic for each movie, which provides the events</li>
</ul>
</li>
<li>Parse new rules on start-up and store locally</li>
</ul>
<h3 id="bkmrk-video-modules">Video Modules</h3>
<ul id="bkmrk-connects-to-a-video-">
<li>Connects to a video service (VLC, Chromecast, PleX, etc.)</li>
<li>Retrieves the currently playing movie, elapsed time, and play status (paused, playing)
<ul>
<li>only sends update when play status changes, and periodic time sync messages</li>
</ul>
</li>
<li>Sends retrieved information to the host module through agreed-upon topic</li>
</ul>
<h3 id="bkmrk-communication-module">Communication Modules</h3>
<ul id="bkmrk-provides-a-human-int">
<li>Provides a human interface for the game</li>
<li>Gives some sort of indication for events occurring</li>
<li>Connects to topic to retrieve list of movies</li>
<li>Subscribes to movie of interest</li>
</ul>
    </div>
        <hr>

        <div class="text-muted text-small">
            <div class="entity-meta">
    
             <a href="http://10.0.0.5:6875/books/video-event-notifier/page/general-ideas/revisions">         <svg class="svg-icon" data-icon="history" role="presentation"  viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
</svg>Revision #9 <br>
        </a>    
            <svg class="svg-icon" data-icon="star" role="presentation"  viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>Created <span>Fri, Jun 28, 2019 5:39 PM</span> by <a href='http://10.0.0.5:6875/user/3'>Spencer Delcore</a>
    
    <br>

            <svg class="svg-icon" data-icon="edit" role="presentation"  viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>Updated <span>Fri, May 8, 2020 7:21 PM</span> by <a href='http://10.0.0.5:6875/user/3'>Spencer Delcore</a>
    </div>        </div>

    </div>
</div>

</body>
</html>
